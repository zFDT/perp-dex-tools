# 项目工作区规则

## 1. 代码风格

- **缩进**：使用 4 个空格进行缩进。
- **行长度**：每行代码不超过 80 个字符。
- **命名规范**：
  - 变量和函数名使用小写字母和下划线（snake_case）。
  - 类名使用大写字母开头的驼峰命名法（PascalCase）。
  - 常量名使用大写字母和下划线（UPPER_CASE）。
- **注释**：为所有公共方法和复杂逻辑添加注释，注释应清晰、简洁。

## 2. 文件结构

- **根目录**：
  - `exchanges/`：存放交易所相关的实现。
  - `helpers/`：存放辅助工具，如日志记录、飞书推送等。
  - `tests/`：存放测试文件。
  - `logs/`：存放日志文件。
- **配置文件**：
  - `.env`：环境变量配置文件。
  - `requirements.txt`：依赖管理文件。

## 3. 日志记录

- **日志级别**：使用 `DEBUG`、`INFO`、`WARNING`、`ERROR` 四个级别。
- **日志格式**：`[交易所_交易对] 消息内容`。
- **日志文件**：
  - `logs/{exchange}_{ticker}_activity.log`：活动日志。
  - `logs/{exchange}_{ticker}_orders.csv`：交易记录。

## 4. 错误处理

- **异常捕获**：在关键操作中捕获异常，并记录错误日志。
- **飞书推送**：在发生错误时，发送飞书推送，推送间隔可通过 `LARK_NOTIFICATION_INTERVAL` 环境变量配置。
- **优雅关闭**：在发生致命错误时，执行优雅关闭，确保资源释放。

## 5. 依赖管理

- **依赖文件**：使用 `requirements.txt` 管理项目依赖。
- **虚拟环境**：建议使用虚拟环境进行开发，避免依赖冲突。

## 6. 文档

- **修改说明**：每次重大修改后，更新 `修改说明.md` 文件，记录改动点。
- **工作区规则**：本文件为项目的工作区规则，所有开发者应遵守。
